(self.webpackJsonp=self.webpackJsonp||[]).push([[2],{1256:function(t,e,n){"use strict";n.r(e);n(11),n(7),n(27),n(42),n(12),n(17),n(14),n(8);var r=n(6),i=n.n(r),o=(n(20),n(71),n(25),n(24),n(80),n(13),n(1143)),a=n(51),c=n(888),u=n(152),s=n(54),f=n(53);n(44);function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.createdAt=new Date(e.createdAt),this.dirty=!1,this.entryId=e.entryId,this.params=e.params,this.plunk=e.plunk,this.tags=e.tags,this.title=e.title,this.tree=e.tree,this.type=e.type,this.updatedAt=new Date(e.updatedAt),this.tree.projectMetadata=e.projectMetadata}var e,n,r;return e=t,(n=[{key:"getEntry",value:function(){var t={createdAt:this.createdAt,dirty:this.dirty,entries:[],id:this.entryId,params:this.params,plunk:this.plunk,spec:this.spec,tags:this.tags,title:this.title,type:this.type,updatedAt:this.updatedAt};return this.tree.traverse((function(e){t.entries.push(e.toJSON())}),{isLeaf:!0}),t}},{key:"isEditableBy",value:function(t){var e=t.getUser(),n="plunk"===this.type&&this.plunk;return n&&t.claims&&(n.token===t.claims.sid||e&&n.user&&e.id===n.user.id)}},{key:"isSaved",value:function(){return"plunk"===this.type}},{key:"setDirty",value:function(t){this.dirty=!!t,t&&(this.updatedAt=(new Date).toISOString())}},{key:"setPlunk",value:function(t){var e=this.type,n=h(t);"plunk"!==this.type&&(this.showDetails=!0),delete this[e],Object.assign(this,n),this.dirty=!1}}])&&l(e.prototype,n),r&&l(e,r),t}();function h(t){var e=new Date;return{id:e.valueOf(),params:{id:t.id},entries:t.entries,plunk:Object(a.omit)(t,"entries"),spec:t.id,tags:t.tags.slice(),title:t.title,type:"plunk",updatedAt:e}}function y(t,e,n,r,i,o,a){try{var c=t[o](a),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,i)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){y(o,r,i,a,c,"next",t)}function c(t){y(o,r,i,a,c,"throw",t)}a(void 0)}))}}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var v=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.activity=n,this.entries=[],this.injector=e,this.maxBytes=3145728,this.storageKey="plunker.history",this.importers={basic:function(t){return r._importBasic(t)},dynamic:function(t){return r._importDynamic(t)},gist:function(t){return r._importGist(t)},github:function(t){return r._importGithub(t)},plunk:function(t){return r._importPlunk(t)},template:function(t){return r._importTemplate(t)},webtask:function(t){return r._importWebtask(t)}},this.store=Object(o.createInstance)({driver:o.INDEXEDDB,name:"Plunker recent projects",size:this.maxBytes,storeName:"projects"}),this.loadEntries()}var e,r,i,u,s,f,l,y,v;return t.$inject=["$injector","activity"],e=t,(r=[{key:"add",value:function(t){this.entries.unshift(t)}},{key:"import",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.injector.get("$q"),i=this.importers[t];return i?r.resolve(i(n)).then((function(n){return Object(a.remove)(e.entries,(function(t){return t.spec===n.spec&&!t.dirty})),e.add(n),e.activity.trackEvent({eventCategory:"Editor",eventAction:"Import project",eventLabel:t}),n})).finally((function(){return e.saveEntries()})):r.reject(new Error("No such importer '".concat(t,"'")))}},{key:"load",value:function(t){return this.loadEntry(t).then((function(t){return new p({createdAt:new Date(t.createdAt),entryId:t.id,params:t.params,plunk:t.plunk,projectMetadata:t.projectMetadata,tags:t.tags,title:t.title,tree:Object(c.b)(t.entries),type:t.type,updatedAt:new Date(t.updatedAt)})}))}},{key:"loadEntry",value:function(t){var e=this.injector.get("$q"),n=Object(a.find)(this.entries,(function(e){return e.id===t})),r=new Date;return n?(n.updatedAt=r,this.remove(n),this.entries.unshift(n),this.saveEntries(),e.resolve(n)):e.reject(new Error("Unable to load the project '".concat(t,"'")))}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.injector.get("$q");return e.new?t.id=Date.now():this.remove(t),this.entries.unshift(t),this.saveEntries(),n.resolve(t)}},{key:"remove",value:function(t){Object(a.remove)(this.entries,(function(e){return e.id===t.id}))}},{key:"loadEntries",value:function(){var t=this;this.entries.length=0;var e=localStorage.getItem(this.storageKey);return e&&window.localStorage.removeItem(this.storageKey),this.store.getItem(this.storageKey).then((function(n){if(n){try{var r=n.split("\n");e&&r.push.apply(r,e.split("\n")),r.filter(Boolean).map(JSON.parse).forEach((function(e){t.entries.push(e)}))}catch(e){return t.injector.get("toast").warn("Error reading your project history"),[]}return t.saveEntries().then((function(){return t.entries}))}}))}},{key:"saveEntries",value:function(){for(var t=this.injector.get("toast"),e=[],n=0,r=0;n<this.entries.length;n++,r++){var i=this.entries[n],o=JSON.stringify(i);if((r+=b(o))>this.maxBytes){if(0===n){t.error("Your current project exceeds the maximum size allocated for all recent projects");break}this.entries.splice(Math.max(n,1),this.entries.length);break}e.push(o)}return this.store.setItem(this.storageKey,e.join("\n"))}},{key:"_importBasic",value:function(){var t=new Date;return{entries:[{type:"file",pathname:"index.html",content:'<!doctype html>\n\n<html>\n  <head>\n    <link rel="stylesheet" href="lib/style.css">\n    <script src="lib/script.js"><\/script>\n  </head>\n\n  <body>\n    <h1>Hello Plunker!</h1>\n  </body>\n</html>\n'},{type:"file",pathname:"lib/style.css",content:"/* Add your styles here */\n\n"},{type:"file",pathname:"lib/script.js",content:"// Add your code here\n\n"}],params:{},id:t.valueOf(),spec:"",tags:[],title:"",type:"basic",updatedAt:t}}},{key:"_importGist",value:(v=d(regeneratorRuntime.mark((function t(e){var n,r,i,o,a,c,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=this.injector.get("api"),i={id:n},o="gist:".concat(n),t.prev=4,t.next=7,r.request({baseUrl:"",path:"/import/gist",params:i,expectStatus:[200]});case 7:return a=t.sent,c=a.data,u=new Date,t.abrupt("return",{params:i,spec:o,entries:c.entries,id:u.valueOf(),tags:c.tags||[],title:c.title||"Gist ".concat(c.id),type:"gist",updatedAt:u});case 13:throw t.prev=13,t.t0=t.catch(4),new Error("Error loading gist ".concat(n));case 16:case"end":return t.stop()}}),t,this,[[4,13]])}))),function(t){return v.apply(this,arguments)})},{key:"_importGithub",value:(y=d(regeneratorRuntime.mark((function t(e){var n,r,i,o,a,c,u,s,f,l,p,h,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.user,r=e.repo,i=e.hashish,o=void 0===i?"master":i,a=e.path,c=void 0===a?"/":a,u=this.injector.get("$http"),s={user:n,repo:r,hashish:o,path:c},f="github:"+[n,r,o].concat(c.split("/")).filter(Boolean).join("/"),t.prev=4,t.next=7,u.get("/import/github",{params:s});case 7:return l=t.sent,p=l.data,h=new Date,y=s.user+"/"+s.repo+(s.hashish?"#"+s.hashish:""),t.abrupt("return",{params:s,spec:f,entries:p.entries,id:h.valueOf(),tags:p.tags||[],title:p.title||y,type:"github",updatedAt:h});case 14:throw t.prev=14,t.t0=t.catch(4),new Error("Error loading github repo: ".concat(t.t0.message));case 17:case"end":return t.stop()}}),t,this,[[4,14]])}))),function(t){return y.apply(this,arguments)})},{key:"_importPlunk",value:(l=d(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.id,r=this.injector.get("api"),n){t.next=4;break}throw new Error("Missing plunk id");case 4:if(!window._ssr||!window._ssr.plunk||window._ssr.plunk.id!==n){t.next=8;break}i=window._ssr.plunk,t.next=17;break;case 8:return t.prev=8,t.next=11,r.request({path:"/plunks/".concat(encodeURIComponent(n)),expectStatus:[200]});case 11:i=t.sent.data,t.next=17;break;case 14:throw t.prev=14,t.t0=t.catch(8),new Error("Error loading plunk ".concat(n,": ").concat(t.t0.message));case 17:return r.request({method:"POST",url:"".concat("https://api.plnkr.co/v2","/plunks/").concat(encodeURIComponent(n),"/views")}).catch((function(t){return console.error("Error registering plunk view",t)})),t.abrupt("return",h(i));case 19:case"end":return t.stop()}}),t,this,[[8,14]])}))),function(t){return l.apply(this,arguments)})},{key:"_importDynamic",value:(f=d(regeneratorRuntime.mark((function t(){var e,n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window._ssr&&window._ssr.project){t.next=2;break}throw new Error("Invalid dynamic plunk");case 2:return e=window._ssr.project,delete window._ssr.project,n=Object.keys(e.entries).reduce((function(t,n){var r=e.entries[n];if(!n||"string"!=typeof n||"string"!=typeof r.content)throw new Error("Invalid entry in dynamic plunk");return t.push({type:"file",pathname:n,encoding:r.encoding||"utf8",content:r.content}),t}),[]),r=new Date,i={},t.abrupt("return",{entries:n,params:i,id:r.valueOf(),spec:"",tags:Array.isArray(e.tags)?e.tags.map(String).filter(Boolean):[],title:"string"==typeof e.title?e.title:"",type:"dynamic",updatedAt:r});case 8:case"end":return t.stop()}}),t)}))),function(){return f.apply(this,arguments)})},{key:"_importTemplate",value:(s=d(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,t.prev=1,t.next=4,this._importPlunk({id:n});case 4:return(r=t.sent).spec="tpl:".concat(n),r.type="template",t.abrupt("return",r);case 10:throw t.prev=10,t.t0=t.catch(1),new Error("Error loading template ".concat(n));case 13:case"end":return t.stop()}}),t,this,[[1,10]])}))),function(t){return s.apply(this,arguments)})},{key:"_importWebtask",value:(u=d(regeneratorRuntime.mark((function t(e){var r,i,o,a,c,u,s,f,l,p,h,y,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.container,i=e.name,o=localStorage.getItem("wt:token")){t.next=9;break}return a=this.injector.get("oauth"),t.next=6,a.authenticate("webtask",{responseType:"accessToken"});case 6:c=t.sent,o=c.accessToken,localStorage.setItem("wt:token",o);case 9:return t.next=11,Promise.all([n.e(1),n.e(17)]).then(n.bind(null,796));case 11:return u=t.sent,s=u.createClient,f=s({token:o}),t.next=16,f.getWebtask({container:r,name:i,decrypt:!0,fetch_code:!0});case 16:return l=t.sent,t.next=19,Promise.resolve().then(n.t.bind(null,1028,7));case 19:return p=t.sent,h=p.default,y=new h(l.code,{createFolders:!1,base64:!0}),d=Object.keys(y.files).map((function(t){var e=y.files[t];return e.dir?null:{type:"file",pathname:t,content:e.asText()}})).filter(Boolean),t.abrupt("return",{id:"".concat(r,"/").concat(i),params:{container:r,name:i},entries:d,projectMetadata:{webtask:l},spec:"wt:".concat(r,"/").concat(i),tags:[],title:l.meta["plnkr-desc"],type:"webtask",updatedAt:new Date(parseInt(l.meta["plnkr-saved"]||l.meta["plnkr-created"],10))});case 24:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})}])&&m(e.prototype,r),i&&m(e,i),t}();function b(t){for(var e=t.length,n=t.length-1;n>=0;n--){var r=t.charCodeAt(n);r>127&&r<=2047?e++:r>2047&&r<=65535&&(e+=2)}return e}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}v.dependencies=[u.a,s.a,f.a];var w;e.default=i.a.module("plunker.service.projects",(w=v.dependencies,function(t){if(Array.isArray(t))return g(t)}(w)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(w)||function(t,e){if(t){if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}(w)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).service("projects",v).name},638:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));n(17),n(14),n(11),n(7),n(202);var r=n(872),i=n.n(r),o=n(140),a=n.n(o),c=n(51),u=n.n(c);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(c,t);var e,n,r,o=p(c);function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=o.call(this)).attributes={},n.filename=e,n.id=i()(),n.parent=t,Object.defineProperty(y(n),"root",{configurable:!0,enumerable:!0,get:function(){for(var t=this;t.parent;)t=t.parent;return t}}),Object.defineProperty(y(n),"route",{configurable:!0,enumerable:!0,get:function(){return this.parent?this.parent.route.concat([this]):[this]}}),Object.defineProperty(y(n),"dirname",{configurable:!0,enumerable:!0,get:function(){return u()(this.parent.route).map("filename").join("/")}}),Object.defineProperty(y(n),"pathname",{configurable:!0,enumerable:!0,get:function(){return u()(this.route).map("filename").join("/")}}),n}return e=c,(n=[{key:"emit",value:function(t,e){if(e&&"object"===s(e)){e.entry=this,a.a.prototype.emit.call(this,t,e);for(var n=this.parent;n;)a.a.prototype.emit.call(n,t,e),n=n.parent}else a.a.prototype.emit.call(this,t,e)}},{key:"getOTPath",value:function(t){for(var e=t?[t]:[],n=this,r=this.parent;r;)e.unshift(r.children.indexOf(n)),e.unshift("children"),n=r,r=r.parent;return e}},{key:"detach",value:function(){var t=this.parent;if(t&&!(t instanceof c))throw new Error("Impossible to remove the root entry.");t&&t.detachChild(this)}},{key:"remove",value:function(){var t=this.parent;if(t&&!(t instanceof c))throw new Error("Impossible to remove the root entry.");t&&t.detachChild(this),this.emit("remove",{entry:this,parent:t}),this.removeAllListeners()}},{key:"move",value:function(t){if(!this.root)throw new Error("Impossible to move a detached entry.");return this.root.moveEntry(this,t)}},{key:"rename",value:function(t){if(!this.root)throw new Error("Impossible to rename a detached entry.");return this.root.moveEntry(this,this.dirname+"/"+t)}},{key:"isAncestorOf",value:function(t){do{if(t===this)return!0;t=t.parent}while(t);return!1}},{key:"isDescendantOf",value:function(t){return t.isAncestorOf(this)}},{key:"isClean",value:function(){throw new Error("Subclasses of Entry must implement isClean")}},{key:"markClean",value:function(){throw new Error("Subclasses of Entry must implement markClean")}},{key:"toFile",value:function(){throw new Error("Subclasses of Entry must implement toFile")}},{key:"toJSON",value:function(){throw new Error("Subclasses of Entry must implement toJSON")}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e}}])&&f(e.prototype,n),r&&f(e,r),c}(a.a)},641:function(t,e,n){"use strict";n(11),n(7),n(57);var r=n(725),i=n(720);n.o(r,"KeyCode")&&n.d(e,"KeyCode",(function(){return r.KeyCode})),n.o(r,"KeyMod")&&n.d(e,"KeyMod",(function(){return r.KeyMod})),n.o(r,"Range")&&n.d(e,"Range",(function(){return r.Range})),n.o(r,"Uri")&&n.d(e,"Uri",(function(){return r.Uri})),n.o(r,"editor")&&n.d(e,"editor",(function(){return r.editor})),n.o(r,"languages")&&n.d(e,"languages",(function(){return r.languages})),i.d.prototype.findModel=function(t,e){return r.editor.getModels().find((function(t){return t.uri.toString()===e.toString()}))}},651:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(17),n(14),n(11),n(7),n(202),n(25);var r=n(779),i=n(51);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(l,t);var e,n,o,s=u(l);function l(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(t=s.call(this,null,"Project")).type="root",Object.defineProperty(f(t),"root",{value:f(t)}),Object.defineProperty(f(t),"route",{value:[]}),t}return e=l,(n=[{key:"moveEntry",value:function(t,e){var n=this.get(t);if(!n)throw new Error("No such file `"+t+"`.");var o=n.pathname,a=e.split("/").filter(Boolean);Object(i.reduce)(a,(function(t,e){if(t){var n=t.get(e);if(n&&!(n instanceof r.a))throw new Error("A file already exists at `"+n.path+"`.");return n}}),this.root);for(var c=a.pop(),u=this.root;a.length;){var s=a.shift(),f=u.get(s);f||(f=u.attachChild(new r.a(u,s))),u=f}n.detach(),n.filename=c;var l=u.attachChild(n);return n.emit("move",{entry:n,previousPathname:o}),l}}])&&a(e.prototype,n),o&&a(e,o),l}(r.a)},709:function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return d}));n(17),n(14),n(11),n(7),n(202);var r=n(638),i=n(1024),o=n(51),a=n(874);n.d(e,"a",(function(){return a.a}));var c=n(780);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"b",(function(){return c.a}));var d=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(y,e);var n,r,u,p=l(y);function y(e,n,r){var u,s,f,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),u=p.call(this,e,n),r=Object(o.defaultsDeep)({},r,{content:"",charset:r.encoding||"utf8"}),u.type="file",u.strategy=(s=h(u),f=new t(r.content,r.charset),t.isBuffer(f)&&function(t,e){if(0===e)return!1;var n=0,r=Math.min(e,512);if(e>=3&&239==t[0]&&187==t[1]&&191==t[2])return!1;if(e>=4&&0===t[0]&&0===t[1]&&254==t[2]&&255==t[3])return!1;if(e>=4&&255==t[0]&&254==t[1]&&0===t[2]&&0===t[3])return!1;if(e>=4&&132==t[0]&&49==t[1]&&149==t[2]&&51==t[3])return!1;if(r>=4&&37==t[0]&&80==t[1]&&68==t[2]&&70==t[3])return!0;if(e>=2&&254==t[0]&&255==t[1])return!1;if(e>=2&&255==t[0]&&254==t[1])return!1;for(var i=0;i<r;i++){if(0===t[i])return!0;if((t[i]<7||t[i]>14)&&(t[i]<32||t[i]>127)){if(t[i]>193&&t[i]<224&&i+1<r){if(i++,t[i]>127&&t[i]<192)continue}else if(t[i]>223&&t[i]<240&&i+2<r&&(i++,t[i]>127&&t[i]<192&&t[i+1]>127&&t[i+1]<192)){i++;continue}if(n++,i>32&&100*n/r>10)return!0}}return 100*n/r>10}(f,f.length)?new a.a(s,f,l):new c.a(s,f,l)),Object.defineProperty(h(u),"mimeType",{enumerable:!0,get:function(){return Object(i.lookup)(this.filename)||"text/plain"}}),Object.defineProperty(h(u),"charset",{enumerable:!0,get:function(){var t=Object(i.charset)(this.mimeType)||"UTF-8";switch(t){case"UTF-8":return"utf8";default:return t}}}),u}return n=y,(r=[{key:"isClean",value:function(){return this.pathname===this._cleanPathname&&this.strategy.isClean()}},{key:"markClean",value:function(){return this._cleanPathname=this.pathname,this.strategy.markClean()}},{key:"getPackages",value:function(){return this.strategy.getPackages()}},{key:"toFile",value:function(){return new window.File([this.strategy.toBuffer()],this.filename,{type:this.mimeType})}},{key:"toBuffer",value:function(){return this.strategy.toBuffer()}},{key:"toJSON",value:function(){return Object(o.extend)(this.strategy.toJSON(),{type:"file",pathname:this.pathname})}}])&&s(n.prototype,r),u&&s(n,u),y}(r.a)}).call(this,n(614).Buffer)},779:function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));n(17),n(14),n(11),n(7),n(202),n(85),n(25);var r=n(638),i=n(709),o=n(1027),a=n.n(o),c=n(1028),u=n.n(c),s=n(51);function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}(f,t);var e,n,o,c=h(f);function f(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),(n=c.call(this,t,e)).type="directory",n.children=[],n}return e=f,(n=[{key:"isClean",value:function(){return this.pathname===this._cleanPathname&&Object(s.every)(this.children,Object(s.method)("isClean"))}},{key:"markClean",value:function(){return this._cleanPathname=this.pathname,Object(s.forEach)(this.children,Object(s.method)("markClean"))}},{key:"attachChild",value:function(t){if(this.get(t.filename))throw new Error("A file or directory already exists named `"+t.filename+"` at path `"+this.pathname+"`");var e=Object(s.sortedIndex)(this.children,t,(function(t){return t.filename.toLowerCase()+("directory"===t.type?"/":"")}));return t.parent=this,this.children.splice(e,0,t),this.emit("attach",{entry:this,child:t}),t}},{key:"detachChild",value:function(t){var e=this.children.indexOf(t);if(e<0)throw new Error("The entry named `"+t.filename+"` does not exist at path `"+this.pathname+"`");return this.children.splice(e,1),this.emit("detach",{entry:this,child:t}),t}},{key:"createDirectory",value:function(t,e){e||(e={});for(var n=t.split("/").filter(Boolean),r=n.pop(),i=this;n.length;){var o=n.shift(),a=i.get(o);a||(a=i.attachChild(new f(i,o))),i=a}if(e.appendVersion&&i.get(r))for(var c=0,u=r;i.get(r=u+"."+c);)c++;var s=new f(i,r,e),l=i.attachChild(s);return s.emit("create",{entry:s}),l}},{key:"createFile",value:function(t,e){e||(e={});for(var n=t.split("/").filter(Boolean),r=n.pop(),o=this;n.length;){var a=n.shift(),c=o.get(a);c||(c=o.attachChild(new f(o,a))),o=c}if(e.appendVersion&&o.get(r))for(var u=0,s=r;o.get(r=s+"."+u);)u++;var l=new i.c(o,r,e),p=o.attachChild(l);return l.emit("create",{entry:l}),p}},{key:"get",value:function(t){if(t instanceof r.a)return t;for(var e=t.split("/").filter(Boolean),n=this;e.length&&n;){if(!(n instanceof f))return;var i=e.shift();n=Object(s.find)(n.children,{filename:i})}return n}},{key:"getEntries",value:function(t){t=Object(s.defaults)({},t,{test:Object(s.matches)({type:"file"})});var e=[];return this.traverse(e.push.bind(e),t),e}},{key:"find",value:function(t){var e=this;"string"==typeof t&&(t=[t]);var n={test:function(t){return"file"===t.type}};return Object(s.reduce)(t,(function(t,r){return t||e.search(r,n)[0]}),void 0)}},{key:"toFile",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ignoreDirectories,n=void 0!==e&&e,r=t.type,i=void 0===r?"blob":r,o=new u.a;this.traverse((function(t){"file"===t.type?o.file(t.pathname,t.toBuffer(),{binary:!0}):"directory"!==t.type||n||o.folder(t.pathname)}));var a=o.generate({type:i,mimeType:"application/zip",compression:"deflate"});return"blob"===i?new window.File([a],this.filename+".zip",{type:a.type}):a}},{key:"remove",value:function(){var t=this.parent;Object(s.forEachRight)(this.children,Object(s.method)("remove")),t&&t.detachChild(this),this.emit("remove",{entry:this,parent:t}),this.removeAllListeners()}},{key:"search",value:function(t,e){return new a.a(this.getEntries(e),{keys:["pathname"]}).search(t)}},{key:"toJSON",value:function(){return{type:"directory",pathname:this.pathname}}},{key:"traverse",value:function(t,e){return e||(e={depthFirst:!0}),Object(s.forEachRight)(this.children,(function t(r){e.depthFirst||n(r),r instanceof f&&Object(s.forEachRight)(r.children,t),e.depthFirst&&n(r)}));function n(n){!(!e.test||Object(s.isFunction)(e.test)&&e.test(n))||e.isLeaf&&n instanceof f&&!Object(s.isEmpty)(n.children)||t(n)}}}])&&l(e.prototype,n),o&&l(e,o),f}(r.a)},780:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s}));n(341),n(14),n(12),n(13),n(20),n(11),n(7);var r=n(641);function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=/\.jsx?$/;function u(t){return c.test(t)?"typescript":null}var s=function(){function e(n,a,c){var s=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.encoding=c||"utf-8",this.entry=n,a=t.isBuffer(a)?a.toString(this.encoding):a;var f=r.Uri.file("".concat(n.root.id,"/").concat(n.pathname));this.model=r.editor.createModel(a,u(n.filename),f),this.model.detectIndentation(!0,2),this.model.onDidChangeContent((function(t){n.emit("change",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t))})),n.on("move",(function(){var t=r.editor.createModel(s.model.getValue(),u(n.filename),r.Uri.file("".concat(n.root.id,"/").concat(n.pathname))),e=s.model;s.model=t,s.model.onDidChangeContent((function(t){n.emit("change",t)})),setTimeout((function(){e.isDisposed()||e.dispose()}))})),n.on("remove",(function(){s.model&&s.model.dispose(),s.model=null})),this._cleanVersionId=this.model.getAlternativeVersionId()}var n,c,s;return n=e,(c=[{key:"toBuffer",value:function(){return t.from(this.model.getValue(),this.encoding)}},{key:"toJSON",value:function(){return{content:this.model.getValue(),encoding:this.encoding}}},{key:"isClean",value:function(){return this.model.getAlternativeVersionId()===this._cleanVersionId}},{key:"markClean",value:function(){this._cleanVersionId=this.model.getAlternativeVersionId()}},{key:"setContent",value:function(t){this.model.setValue(t)}}])&&a(n.prototype,c),s&&a(n,s),e}()}).call(this,n(614).Buffer)},874:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));n(11),n(7);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function e(t,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.entry=t,this.content=n,this.encoding=r||"binary"}var n,i,o;return n=e,(i=[{key:"getPackages",value:function(){return[]}},{key:"toBuffer",value:function(){return t.isBuffer(this.content)?this.content:new t([this.content],this.encoding)}},{key:"toJSON",value:function(){return{content:this.toBuffer().toString("base64"),encoding:"base64"}}},{key:"isClean",value:function(){return!0}},{key:"markClean",value:function(){return!0}},{key:"setContent",value:function(){throw new Error("Unable to modify binary files for now")}}])&&r(n.prototype,i),o&&r(n,o),e}()}).call(this,n(614).Buffer)},888:function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var r=n(51),i=(n(779),n(638),n(709));n.d(e,"a",(function(){return i.c}));var o=n(651);function a(t){var e=new o.a;return Object(r.forEach)(t,(function(t){switch(t.type){case"directory":return e.createDirectory(t.pathname,t);case"file":return e.createFile(t.pathname,t)}})),e}}}]);